<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>关于docsify一直Loading及界面美化</title>
      <link href="/posts/45913.html"/>
      <url>/posts/45913.html</url>
      
        <content type="html"><![CDATA[<h1 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h1><p>当我使用docsify写文档时发现它一直处于Loading状态，官网也是一样</p><p><img src="https://pic.imgdb.cn/item/651a5332c458853aeffc90ea" alt="image-20231002132049947"></p><p>然后我看了一下代码发现它的css和js都是从<code>cdn.jsdelivr.net</code>所导入的但是国内访问jsdelivr的速度就很。。。所以就造成了一直在Loading</p><h1 id="解决方法"><a href="#解决方法" class="headerlink" title="解决方法"></a>解决方法</h1><p>解决方法有2种，分别是</p><ul><li><p>将文件从本地引入</p></li><li><p>改成其它域名引入</p><p>由于打不开jsdelivr所以就采用第二种方法</p><p>我们只需要在index.html中找到这几行代码</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//cdn.jsdelivr.net/npm/docsify@4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>然后把它们改成</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">href</span>=<span class="string">&quot;//fastly.jsdelivr.net/npm/docsify@4/lib/themes/vue.css&quot;</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;//fastly.jsdelivr.net/npm/docsify@4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><p>其实就是把<code>cdn</code>改成了<code>fastly</code>这样问题就解决了</p><blockquote><p>如果要使用其它插件也需要将<code>cdn</code>改成<code>fastly</code></p></blockquote><h1 id="界面优化"><a href="#界面优化" class="headerlink" title="界面优化"></a>界面优化</h1><p>解决完之后我发现了2个问题，那就是默认主题的代码框上下间距太高了，还有复制插件的黑框显得很突兀</p><h2 id="代码框修改间距"><a href="#代码框修改间距" class="headerlink" title="代码框修改间距"></a>代码框修改间距</h2><p>只需要在<code>&lt;head&gt;&lt;/head&gt;</code>之间添加以下代码即可</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">  <span class="selector-class">.markdown-section</span> pre&gt;<span class="selector-tag">code</span>&#123;</span></span><br><span class="line"><span class="language-css">    <span class="attribute">padding</span>: <span class="number">1.2em</span> <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">  &#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="效果对比"><a href="#效果对比" class="headerlink" title="效果对比"></a>效果对比</h3><p>这是修改前的效果</p><p><img src="https://pic.imgdb.cn/item/651a5876c458853aeffdd1fc" alt="image-20231002134318062"></p><p>这是修改之后的效果</p><p><img src="https://pic.imgdb.cn/item/651a589cc458853aeffdd6a3" alt="image-20231002134356462"></p><p>可以看见上下间距减小了很多</p><h2 id="复制按钮美化"><a href="#复制按钮美化" class="headerlink" title="复制按钮美化"></a>复制按钮美化</h2><h3 id="js部分"><a href="#js部分" class="headerlink" title="js部分"></a>js部分</h3><p>首先在<code>index</code>的同级目录下新建一个<code>copy.js</code></p><p>然后将一下代码写入<code>copy.js</code></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line">*!</span><br><span class="line"> * docsify-copy-code</span><br><span class="line"> * v3<span class="number">.0</span><span class="number">.0</span></span><br><span class="line"> * <span class="attr">https</span>:<span class="comment">//github.com/jperasmus/docsify-copy-code</span></span><br><span class="line"> * (c) <span class="number">2017</span>-<span class="number">2023</span> <span class="variable constant_">JP</span> <span class="title class_">Erasmus</span> &lt;jperasmus11@gmail.<span class="property">com</span>&gt;</span><br><span class="line"> * <span class="variable constant_">MIT</span> license</span><br><span class="line"> */</span><br><span class="line">!(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="string">&quot;use strict&quot;</span>;</span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">e</span>(<span class="params">o</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      (e =</span><br><span class="line">        <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="title class_">Symbol</span> &amp;&amp; <span class="string">&quot;symbol&quot;</span> == <span class="keyword">typeof</span> <span class="title class_">Symbol</span>.<span class="property">iterator</span></span><br><span class="line">          ? <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">              <span class="keyword">return</span> <span class="keyword">typeof</span> e;</span><br><span class="line">            &#125;</span><br><span class="line">          : <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">              <span class="keyword">return</span> e &amp;&amp;</span><br><span class="line">                <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> <span class="title class_">Symbol</span> &amp;&amp;</span><br><span class="line">                e.<span class="property">constructor</span> === <span class="title class_">Symbol</span> &amp;&amp;</span><br><span class="line">                e !== <span class="title class_">Symbol</span>.<span class="property"><span class="keyword">prototype</span></span></span><br><span class="line">                ? <span class="string">&quot;symbol&quot;</span></span><br><span class="line">                : <span class="keyword">typeof</span> e;</span><br><span class="line">            &#125;),</span><br><span class="line">      <span class="title function_">e</span>(o)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  !(<span class="keyword">function</span> (<span class="params">e, o</span>) &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="number">0</span> === o &amp;&amp; (o = &#123;&#125;);</span><br><span class="line">    <span class="keyword">var</span> t = o.<span class="property">insertAt</span>;</span><br><span class="line">    <span class="keyword">if</span> (e &amp;&amp; <span class="string">&quot;undefined&quot;</span> != <span class="keyword">typeof</span> <span class="variable language_">document</span>) &#123;</span><br><span class="line">      <span class="keyword">var</span> n = <span class="variable language_">document</span>.<span class="property">head</span> || <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">&quot;head&quot;</span>)[<span class="number">0</span>],</span><br><span class="line">        c = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;style&quot;</span>);</span><br><span class="line">      (c.<span class="property">type</span> = <span class="string">&quot;text/css&quot;</span>),</span><br><span class="line">        <span class="string">&quot;top&quot;</span> === t &amp;&amp; n.<span class="property">firstChild</span></span><br><span class="line">          ? n.<span class="title function_">insertBefore</span>(c, n.<span class="property">firstChild</span>)</span><br><span class="line">          : n.<span class="title function_">appendChild</span>(c),</span><br><span class="line">        c.<span class="property">styleSheet</span></span><br><span class="line">          ? (c.<span class="property">styleSheet</span>.<span class="property">cssText</span> = e)</span><br><span class="line">          : c.<span class="title function_">appendChild</span>(<span class="variable language_">document</span>.<span class="title function_">createTextNode</span>(e));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)(</span><br><span class="line">    <span class="string">&quot;.docsify-copy-code-button,.docsify-copy-code-button&gt;span&#123;cursor:pointer;transition:all .25s ease&#125;.docsify-copy-code-button&#123;background:grey;background:var(--theme-color,grey);border:0;border-radius:5px;color:#fff;font-size:1em;opacity:0;outline:0;overflow:visible;padding:.55em .7em;position:absolute;right:0;top:0;z-index:1&#125;.docsify-copy-code-button&gt;span&#123;background:inherit;border-radius:3px;pointer-events:none&#125;.docsify-copy-code-button&gt;.error,.docsify-copy-code-button&gt;.success&#123;font-size:.825em;opacity:0;padding:.5em .65em;position:absolute;right:0;top:50%;transform:translateY(-50%);z-index:-100&#125;.docsify-copy-code-button.error&gt;.error,.docsify-copy-code-button.success&gt;.success&#123;opacity:1;right:100%;transform:translate(-25%,-50%)&#125;.docsify-copy-code-button:focus,pre:hover .docsify-copy-code-button&#123;opacity:1&#125;.docsify-copy-code-button&gt;[aria-live]&#123;height:1px;left:-10000px;overflow:hidden;position:absolute;top:auto;width:1px&#125;;border-radius:5px;&quot;</span></span><br><span class="line">  ),</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;link[href*=&quot;docsify-copy-code&quot;]&#x27;</span>) &amp;&amp;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(</span><br><span class="line">        <span class="string">&quot;[Deprecation] Link to external docsify-copy-code stylesheet is no longer necessary.&quot;</span></span><br><span class="line">      ),</span><br><span class="line">    (<span class="variable language_">window</span>.<span class="property">DocsifyCopyCodePlugin</span> = &#123;</span><br><span class="line">      <span class="attr">init</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">function</span> (<span class="params">e, o</span>) &#123;</span><br><span class="line">          e.<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">warn</span>(</span><br><span class="line">              <span class="string">&quot;[Deprecation] Manually initializing docsify-copy-code using window.DocsifyCopyCodePlugin.init() is no longer necessary.&quot;</span></span><br><span class="line">            );</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;;</span><br><span class="line">      &#125;,</span><br><span class="line">    &#125;),</span><br><span class="line">    (<span class="variable language_">window</span>.<span class="property">$docsify</span> = <span class="variable language_">window</span>.<span class="property">$docsify</span> || &#123;&#125;),</span><br><span class="line">    (<span class="variable language_">window</span>.<span class="property">$docsify</span>.<span class="property">plugins</span> = [</span><br><span class="line">      <span class="keyword">function</span> (<span class="params">o, t</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> n = &#123;</span><br><span class="line">          <span class="attr">buttonText</span>: <span class="string">&quot;复制代码&quot;</span>,</span><br><span class="line">          <span class="attr">errorText</span>: <span class="string">&quot;Error&quot;</span>,</span><br><span class="line">          <span class="attr">successText</span>: <span class="string">&quot;已复制&quot;</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">        o.<span class="title function_">doneEach</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">          <span class="keyword">var</span> o = <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;pre[data-lang]&quot;</span>));</span><br><span class="line">          t.<span class="property">config</span>.<span class="property">copyCode</span> &amp;&amp;</span><br><span class="line">            <span class="title class_">Object</span>.<span class="title function_">keys</span>(n).<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">o</span>) &#123;</span><br><span class="line">              <span class="keyword">var</span> c = t.<span class="property">config</span>.<span class="property">copyCode</span>[o];</span><br><span class="line">              <span class="string">&quot;string&quot;</span> == <span class="keyword">typeof</span> c</span><br><span class="line">                ? (n[o] = c)</span><br><span class="line">                : <span class="string">&quot;object&quot;</span> === <span class="title function_">e</span>(c) &amp;&amp;</span><br><span class="line">                  <span class="title class_">Object</span>.<span class="title function_">keys</span>(c).<span class="title function_">some</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">                    <span class="keyword">var</span> t = location.<span class="property">href</span>.<span class="title function_">indexOf</span>(e) &gt; -<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">return</span> (n[o] = t ? c[e] : n[o]), t;</span><br><span class="line">                  &#125;);</span><br><span class="line">            &#125;);</span><br><span class="line">          <span class="keyword">var</span> c = [</span><br><span class="line">            <span class="string">&#x27;&lt;button class=&quot;docsify-copy-code-button&quot;&gt; &#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;&lt;span class=&quot;label&quot;&gt;&#x27;</span>.<span class="title function_">concat</span>(n.<span class="property">buttonText</span>, <span class="string">&quot;&lt;/span&gt;&quot;</span>),</span><br><span class="line">            <span class="string">&#x27;&lt;span class=&quot;error&quot; aria-hidden=&quot;hidden&quot;&gt;&#x27;</span>.<span class="title function_">concat</span>(</span><br><span class="line">              n.<span class="property">errorText</span>,</span><br><span class="line">              <span class="string">&quot;&lt;/span&gt;&quot;</span></span><br><span class="line">            ),</span><br><span class="line">            <span class="string">&#x27;&lt;span class=&quot;success&quot; aria-hidden=&quot;hidden&quot;&gt;&#x27;</span>.<span class="title function_">concat</span>(</span><br><span class="line">              n.<span class="property">successText</span>,</span><br><span class="line">              <span class="string">&quot;&lt;/span&gt;&quot;</span></span><br><span class="line">            ),</span><br><span class="line">            <span class="string">&#x27;&lt;span aria-live=&quot;polite&quot;&gt;&lt;/span&gt;&#x27;</span>,</span><br><span class="line">            <span class="string">&quot;&lt;/button&gt;&quot;</span>,</span><br><span class="line">          ].<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line">          o.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">            e.<span class="title function_">insertAdjacentHTML</span>(<span class="string">&quot;beforeend&quot;</span>, c);</span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;),</span><br><span class="line">          o.<span class="title function_">mounted</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> e = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.content&quot;</span>);</span><br><span class="line">            e &amp;&amp;</span><br><span class="line">              e.<span class="title function_">addEventListener</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (e.<span class="property">target</span>.<span class="property">classList</span>.<span class="title function_">contains</span>(<span class="string">&quot;docsify-copy-code-button&quot;</span>)) &#123;</span><br><span class="line">                  <span class="keyword">var</span> o =</span><br><span class="line">                      <span class="string">&quot;BUTTON&quot;</span> === e.<span class="property">target</span>.<span class="property">tagName</span></span><br><span class="line">                        ? e.<span class="property">target</span></span><br><span class="line">                        : e.<span class="property">target</span>.<span class="property">parentNode</span>,</span><br><span class="line">                    t = <span class="variable language_">document</span>.<span class="title function_">createRange</span>(),</span><br><span class="line">                    c = o.<span class="property">parentNode</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;code&quot;</span>),</span><br><span class="line">                    i = o.<span class="title function_">querySelector</span>(<span class="string">&quot;[aria-live]&quot;</span>),</span><br><span class="line">                    r = <span class="variable language_">window</span>.<span class="title function_">getSelection</span>();</span><br><span class="line">                  t.<span class="title function_">selectNode</span>(c), r &amp;&amp; (r.<span class="title function_">removeAllRanges</span>(), r.<span class="title function_">addRange</span>(t));</span><br><span class="line">                  <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&quot;copy&quot;</span>) &amp;&amp;</span><br><span class="line">                      (o.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;success&quot;</span>),</span><br><span class="line">                      (i.<span class="property">innerText</span> = n.<span class="property">successText</span>),</span><br><span class="line">                      <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                        o.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;success&quot;</span>), (i.<span class="property">innerText</span> = <span class="string">&quot;&quot;</span>);</span><br><span class="line">                      &#125;, <span class="number">1e3</span>));</span><br><span class="line">                  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;docsify-copy-code: &quot;</span>.<span class="title function_">concat</span>(e)),</span><br><span class="line">                      o.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;error&quot;</span>),</span><br><span class="line">                      (i.<span class="property">innerText</span> = n.<span class="property">errorText</span>),</span><br><span class="line">                      <span class="built_in">setTimeout</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                        o.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;error&quot;</span>), (i.<span class="property">innerText</span> = <span class="string">&quot;&quot;</span>);</span><br><span class="line">                      &#125;, <span class="number">1e3</span>);</span><br><span class="line">                  &#125;</span><br><span class="line">                  (r = <span class="variable language_">window</span>.<span class="title function_">getSelection</span>()) &amp;&amp;</span><br><span class="line">                    (<span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> r.<span class="property">removeRange</span></span><br><span class="line">                      ? r.<span class="title function_">removeRange</span>(t)</span><br><span class="line">                      : <span class="string">&quot;function&quot;</span> == <span class="keyword">typeof</span> r.<span class="property">removeAllRanges</span> &amp;&amp;</span><br><span class="line">                        r.<span class="title function_">removeAllRanges</span>());</span><br><span class="line">                &#125;</span><br><span class="line">              &#125;);</span><br><span class="line">          &#125;);</span><br><span class="line">      &#125;,</span><br><span class="line">    ].<span class="title function_">concat</span>(<span class="variable language_">window</span>.<span class="property">$docsify</span>.<span class="property">plugins</span> || []));</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="comment">//# sourceMappingURL=docsify-copy-code.min.js.map</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>再打开<code>index.html</code>将copy.js引入，注意此时要将原来的复制按钮插件取消引入，否则可能造成冲突</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;./copy.js&quot;</span>&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3 id="css部分"><a href="#css部分" class="headerlink" title="css部分"></a>css部分</h3><p>找到刚才的<code>&lt;style&gt;&lt;/style&gt;</code>标签在其中添加</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.docsify-copy-code-button</span><span class="selector-pseudo">:focus</span>, pre<span class="selector-pseudo">:hover</span> <span class="selector-class">.docsify-copy-code-button</span> &#123;</span><br><span class="line"><span class="attribute">opacity</span>: <span class="number">0.85</span>;</span><br></pre></td></tr></table></figure><h3 id="效果对比-1"><a href="#效果对比-1" class="headerlink" title="效果对比"></a>效果对比</h3><p>这是原来的效果</p><p><img src="https://pic.imgdb.cn/item/651a5a3fc458853aeffe165c" alt="image-20231002135051412"></p><p>这是修改之后的效果</p><p><img src="https://pic.imgdb.cn/item/651a5a6ac458853aeffe20d4" alt="image-20231002135137850"></p><h1 id="THE-END"><a href="#THE-END" class="headerlink" title="THE END"></a>THE END</h1>]]></content>
      
      
      <categories>
          
          <category> 前端 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docsify </tag>
            
            <tag> js </tag>
            
            <tag> 前端 </tag>
            
            <tag> 文档 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>BiliBili如何获取粉丝数</title>
      <link href="/posts/16002.html"/>
      <url>/posts/16002.html</url>
      
        <content type="html"><![CDATA[<p>获取bilbil粉丝数的方法有很多，不过今天的这个方法可以说是最简单快速的方法<br>首先经过抓包可以发现这样一个请求<br><img src="https://pic.imgdb.cn/item/651a2ff9c458853aefeea1d1" alt="image"></p><p>分析url发现其构成是</p><blockquote><p><a href="https://api.bilibili.com/x/relation/stat?vmid=%E4%BD%A0%E7%9A%84UID&jsonp=jsonp">https://api.bilibili.com/x/relation/stat?vmid=你的UID&amp;jsonp=jsonp</a><br>在观察响应信息其中mid就是UID，following就是关注数，follower是粉丝，而whisper和black我就不得而知了</p></blockquote><p>然后我们就可以直接上代码<br>首先导入包</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import requests</span><br><span class="line">import json</span><br></pre></td></tr></table></figure><p>然后发送请求</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#发送请求</span><br><span class="line">url=&#x27;https://api.bilibili.com/x/relation/stat?vmid=5626102&amp;jsonp=jsonp&#x27; #注意替换目标UID</span><br><span class="line">headers=&#123;</span><br><span class="line">    &#x27;user-agent&#x27;:&#x27;Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2882.18 Safari/537.36&#x27;</span><br><span class="line">&#125;</span><br><span class="line">resp=requests.get(url=url,headers=headers)</span><br><span class="line">json_resp=json.loads(resp.text)</span><br><span class="line">follower=json_resp[&#x27;data&#x27;][&#x27;follower&#x27;]</span><br><span class="line">following=json_resp[&#x27;data&#x27;][&#x27;following&#x27;]</span><br><span class="line">UiD=json_resp[&#x27;data&#x27;][&#x27;mid&#x27;]</span><br><span class="line">print(&#x27;关注数&#x27;,following,&#x27;粉丝&#x27;,follower,&#x27;UID&#x27;,UiD)</span><br></pre></td></tr></table></figure><p>最后上完整代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">#完整代码</span><br><span class="line">url=&#x27;https://api.bilibili.com/x/relation/stat?vmid=5626102&amp;jsonp=jsonp&#x27; #注意替换目标UID</span><br><span class="line">headers=&#123;</span><br><span class="line">    &#x27;user-agent&#x27;:&#x27;Mozilla/5.0 (Windows NT 6.1) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/54.0.2882.18 Safari/537.36&#x27;</span><br><span class="line">&#125;</span><br><span class="line">resp=requests.get(url=url,headers=headers)</span><br><span class="line">json_resp=json.loads(resp.text)</span><br><span class="line">follower=json_resp[&#x27;data&#x27;][&#x27;follower&#x27;]</span><br><span class="line">following=json_resp[&#x27;data&#x27;][&#x27;following&#x27;]</span><br><span class="line">UiD=json_resp[&#x27;data&#x27;][&#x27;mid&#x27;]</span><br><span class="line">print(&#x27;关注数&#x27;,following,&#x27;粉丝&#x27;,follower,&#x27;UID&#x27;,UiD)</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> BiliBili </tag>
            
            <tag> 粉丝 </tag>
            
            <tag> Python </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>kindle全版本越狱降级【拆机】</title>
      <link href="/posts/45592.html"/>
      <url>/posts/45592.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>目前kindle不拆机可以越狱的最高版本为5.14.2<br>但很多人在越狱后会强制升级到高版本，导致KUAL等插件失效<br>今天就来介绍一下高于5.14.2的版本如何越狱<br>若版本低于或等于5.14.2可以参考下面的方法<br><a href="https://bookfere.com/post/410.html" title="kindle固件版本小于5.8.7">kindle固件版本小于5.8.7</a><br><a href="https://bookfere.com/post/892.html" title="kindle固件版本5.10.3~5.13.3">kindle固件版本5.10.3~5.13.3</a><br><a href="https://bookfere.com/post/970.html" title="kindle固件版本5.12.2~5.14.2">kindle固件版本5.12.2~5.14.2</a></p><h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>因为高版本越狱需要拆机短接，所以需要一下物品</p><ul><li>一双手</li><li>一个电吹风</li><li>一个小小的十字形螺丝刀</li><li>一个镊子或者导线（只要可以将两个点短接即可）</li><li>越狱工具包<br>以上物品除了越狱工具包会在文章末尾，其余东西皆需自备</li></ul><h1 id="拆机"><a href="#拆机" class="headerlink" title="拆机"></a>拆机</h1><p>首先将kindle打开，拿出电吹风，使用热风对着kindle的边框处吹，注意不要先吹右下角<br>然后从屏幕内部将边框拆出，如果拆不出就再吹一会，完全拆出外壳后使用螺丝刀拆出可见的螺丝<br>然后将主板取出，并翻过来找到如图所示的短接点<br><img src="https://pic.imgdb.cn/item/651a2f16c458853aefee6e47" alt="558"><br>558短接示意图<br><img src="https://pic.imgdb.cn/item/651a2f20c458853aefee705c" alt="ko1"><br>ko1短接示意图<br><img src="https://pic.imgdb.cn/item/651a2f26c458853aefee71de" alt="image"></p><p>kpw23短接示意图</p><h1 id="短接越狱"><a href="#短接越狱" class="headerlink" title="短接越狱"></a>短接越狱</h1><p>然后使用镊子连接如图所示的点，将kindle连接电脑，打开越狱工具包中越狱工具里对应型号的工具，解压<br>打开其中的mfgtool.exe,点击start<br>再一只手短接，另一只手按住重启键40秒强制重启，直到出现蓝色进度条，并跑完，将kindle翻过来，会出现爆米花图标，此时说明越狱成功了<br><img src="https://pic.imgdb.cn/item/651a2f30c458853aefee7325" alt="image"><br>然后将kindle连接电脑，将更新补丁中的文件复制到kindle的根目录<br><img src="https://pic.imgdb.cn/item/651a2f35c458853aefee73e5" alt="image"><br>然后就可以把kindle拔出依次在 Kindle 中点击【菜单 → 设置 → 菜单 → 更新您的 Kindle】，等待重启；<br>这样就越狱成功了</p><h1 id="降级"><a href="#降级" class="headerlink" title="降级"></a>降级</h1><p>首先打开<a href="https://bookfere.com/post/979.html#select_model" title="获取脚本">获取脚本</a><br>然后选择相应的kindle型号及想要降级的版本，下载RUNME.sh<br>然后打开kindle搜索框，输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">；log runme</span><br></pre></td></tr></table></figure><p>完成后kindle上会有相应的文字提示，看到文字后<br>打开<a href="https://bookfere.com/update" title="固件大全">固件大全</a>获取相应的固件<br>然后将.bin文件拖到kindle的根目录，将kindle弹出<br>然后依次在 Kindle 中点击【菜单 → 设置 → 菜单 → 更新您的 Kindle】，等待重启；<br>这样就降级完成了</p><h1 id="禁止自动更新"><a href="#禁止自动更新" class="headerlink" title="禁止自动更新"></a>禁止自动更新</h1><p>要想禁止自动更新有以下几个方法</p><ol><li>打开飞行模式</li><li>使磁盘剩余空间不足 150MB</li><li>在kindle根目录新建一个名为<code>update.bin.tmp.partial</code>的空文件夹（只适用于固件版本低于5.10）</li><li>安装禁止更新插件<br>这里重点讲一下第四种方法，这里推荐插件<code>Rename OTA binaries</code>(会放在工具包中)，这个方法需要已经越狱并且安装了KUAL，首先将工具包中的renameotabin.zip，解压得到 renameotabin 文件夹，<br>然后把 renameotabin 文件夹拷贝到 Kindle 中的 extensions 文件夹中，打开KUAL依次点击Rename OTA binaries → Rename，等待重启这样自动更新就被禁止了，如果想恢复更新，可以点击<code>Restore</code></li></ol><h1 id="大功告成"><a href="#大功告成" class="headerlink" title="大功告成"></a>大功告成</h1><p>这样就越狱成功了，可以放心去安装KUAL，KOreader等插件了</p><h1 id="越狱工具包"><a href="#越狱工具包" class="headerlink" title="越狱工具包"></a>越狱工具包</h1><p><a href="https://www.123pan.com/s/pXIrVv-F6553.html%E6%8F%90%E5%8F%96%E7%A0%81:1145">https://www.123pan.com/s/pXIrVv-F6553.html提取码:1145</a></p>]]></content>
      
      
      <categories>
          
          <category> 其它 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Kindle </tag>
            
            <tag> 越狱 </tag>
            
            <tag> 阅读 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo图形化界面和文章管理——Hexon</title>
      <link href="/posts/61676.html"/>
      <url>/posts/61676.html</url>
      
        <content type="html"><![CDATA[<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p>你在使用hexo写文章的时候是不是还在</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span></span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure><p>这样写文章不仅效率慢而且管理起来也不方便，所以今天我就带来了这个项目——hexon</p><p>hexon是一个带有git的hexo图形化界面，可以运行命令和管理内容</p><p>这是它的github链接</p><p><a href="https://github/gethexon/hexon">https://github/gethexon/hexon</a></p><h1 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h1><p>如果你的电脑上安装有git（既然都用hexo了，应该都有吧）</p><p>我们可以直接</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/gethexon/hexon.git</span><br></pre></td></tr></table></figure><p>如果没有的话我们可以打开它的github链接然后下载zip压缩包并解压</p><p>然后我们便可以得到一下文件</p><p><img src="https://pic.imgdb.cn/item/651a2e7ac458853aefee554f" alt="image-20230815125017835"></p><p>我们在这里打开powershell</p><p>然后输入命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install;npm run setup</span><br></pre></td></tr></table></figure><p>等待安装完成便可以看到如下界面</p><p><img src="https://pic.imgdb.cn/item/651a2e7fc458853aefee55e6" alt="image-20230815125448474"></p><p>我们一次输入端口，hexo的路径，以及创建用户名和密码</p><p>然后我们再次输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm start</span><br></pre></td></tr></table></figure><p>即可打开hexo的界面</p><p><img src="https://pic.imgdb.cn/item/651a2e83c458853aefee5672" alt="image-20230815125742496"></p><h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h1><p>打开地址后我们便可以看到登录界面</p><p><img src="https://pic.imgdb.cn/item/651a2e87c458853aefee5703" alt="image-20230815125929496"></p><p>然后输入我们之前设置好的用户名和密码，然后我们就可以进入主页了</p><p><img src="https://pic.imgdb.cn/item/651a2e8dc458853aefee582f" alt="image-20230815130023895"></p><p>这里我们可以新建管理文章和页面等等</p><p><img src="https://pic.imgdb.cn/item/651a2e94c458853aefee5a71" alt="image-20230815130302390"></p><p>不仅如此我们还可以在这里写文章，连md编辑器都省了</p><p><img src="https://pic.imgdb.cn/item/651a2ea4c458853aefee5dd8" alt="image-20230815130415104"></p><h1 id="THE-END"><a href="#THE-END" class="headerlink" title="THE END"></a>THE END</h1>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 博客 </tag>
            
            <tag> Hexo </tag>
            
            <tag> 图形化 </tag>
            
            <tag> GUI </tag>
            
            <tag> 用户界面 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Python软件逆向-SE工具箱</title>
      <link href="/posts/50055.html"/>
      <url>/posts/50055.html</url>
      
        <content type="html"><![CDATA[<h1 id="原因"><a href="#原因" class="headerlink" title="原因"></a>原因</h1><p>今天在网上看见以个SE工具箱，号称可以通过某人的qq、手机号或者微博进行反查信息，只需知道其中一个便可查询其他信息。我一看，这不就是一社工库吗，于是便想下载来看一下<br><img src="https://pic.imgdb.cn/item/651a2d37c458853aefedcf57" alt="image"></p><p>结果发现这软件竟然收费，而且是用python写的<br><img src="https://pic.imgdb.cn/item/651a2d89c458853aefedda82" alt="image"></p><h1 id="破解过程"><a href="#破解过程" class="headerlink" title="破解过程"></a>破解过程</h1><h2 id="解包"><a href="#解包" class="headerlink" title="解包"></a>解包</h2><p>对exe进行解包用的是pyinstxtractor<br>下载地址：<a href="https://github.com/extremecoders-re/pyinstxtractor/releases/">https://github.com/extremecoders-re/pyinstxtractor/releases/</a><br>下载完成后将压缩包进行解压，得到了一下文件<br><img src="https://pic.imgdb.cn/item/651a2d8dc458853aefeddc21" alt="image"><br>然后将要解包的exe放进这个目录<br><img src="https://pic.imgdb.cn/item/651a2d8fc458853aefede083" alt="image"><br>打开powershell进入当前目录输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python .\pyinstxtractor.py &lt;要解包程序的地址&gt;</span><br></pre></td></tr></table></figure><p>然后执行<br><img src="https://pic.imgdb.cn/item/651a2d95c458853aefede9c6" alt="image"><br>这时在当前目录下便出现了一个新的文件夹<br><img src="https://pic.imgdb.cn/item/651a2da2c458853aefedfbba" alt="image"></p><h2 id="反编译"><a href="#反编译" class="headerlink" title="反编译"></a>反编译</h2><p>进入该文件夹，找到与exe文件同名的pyc文件，尝试使用uncompyle6进行反编译</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip install uncompyle6</span><br><span class="line"> uncompyle6 .\SE工具箱.pyc &gt;so.py</span><br></pre></td></tr></table></figure><p>这里的<code>so.py</code>是将反编译的结果保存至so.py这一文件<br><img src="https://pic.imgdb.cn/item/651a2da9c458853aefee05cf" alt="image"><br>但是发现使用uncompyle6反编译失败，于是果断选择在网上寻找在线反编译工具</p><p><a href="https://tool.lu/pyc/">https://tool.lu/pyc/</a></p><p>反编译的到如下代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># visit https://tool.lu/pyc/ for more information</span><br><span class="line"># Version: Python 3.9</span><br><span class="line"></span><br><span class="line">import threading</span><br><span class="line">import win32api</span><br><span class="line">import pyDes</span><br><span class="line">from binascii import b2a_hex, a2b_hex</span><br><span class="line">import base64</span><br><span class="line">import requests</span><br><span class="line">import re</span><br><span class="line">import os</span><br><span class="line">import random</span><br><span class="line">import time</span><br><span class="line">import PySimpleGUI as Sg</span><br><span class="line">Des_Key = &#x27;12345678&#x27;</span><br><span class="line">Des_IV = &#x27;00000000&#x27;</span><br><span class="line">TYPE = &#x27;DB&#x27;</span><br><span class="line"></span><br><span class="line">class Register:</span><br><span class="line">    </span><br><span class="line">    def __init__(self, TYPE):</span><br><span class="line">        self.TYPE = TYPE</span><br><span class="line">        self.Des_Key = Des_Key</span><br><span class="line">        self.Des_IV = Des_IV</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    def getCVolumeSerialNumber(self):</span><br><span class="line">        CVolumeSerialNumber = win32api.GetVolumeInformation(&#x27;C:\\&#x27;)[1]</span><br><span class="line">        if CVolumeSerialNumber:</span><br><span class="line">            return str(CVolumeSerialNumber)</span><br><span class="line">        return None</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    def DesEncrypt(self, str):</span><br><span class="line">        k = pyDes.des(self.Des_Key, pyDes.CBC, self.Des_IV, None, pyDes.PAD_PKCS5, **(&#x27;pad&#x27;, &#x27;padmode&#x27;))</span><br><span class="line">        encryptStr = k.encrypt(str)</span><br><span class="line">        string = base64.b64encode(encryptStr)</span><br><span class="line">        return string</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    def DesDecrypt(self, string):</span><br><span class="line">        string = base64.b64decode(string)</span><br><span class="line">        k = pyDes.des(self.Des_Key, pyDes.CBC, self.Des_IV, None, pyDes.PAD_PKCS5, **(&#x27;pad&#x27;, &#x27;padmode&#x27;))</span><br><span class="line">        decryptStr = k.decrypt(string)</span><br><span class="line">        return decryptStr</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    def Regist_New(self):</span><br><span class="line">        pass</span><br><span class="line">    # WARNING: Decompyle incomplete</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    def encryCode(self):</span><br><span class="line">        global serialnumber</span><br><span class="line">        rand = str(random.randrange(1, 1000))</span><br><span class="line">        serialnumber = self.getCVolumeSerialNumber()</span><br><span class="line">        content = str(&#123;</span><br><span class="line">            &#x27;stat&#x27;: &#x27;&#x27;,</span><br><span class="line">            &#x27;Serial&#x27;: serialnumber,</span><br><span class="line">            &#x27;Random&#x27;: rand,</span><br><span class="line">            &#x27;Type&#x27;: self.TYPE &#125;)</span><br><span class="line">        encryptstr = self.DesEncrypt(content).decode(&#x27;utf8&#x27;)</span><br><span class="line">        return encryptstr</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    def checKey(self):</span><br><span class="line">        key = values[&#x27;-key-&#x27;]</span><br><span class="line">    # WARNING: Decompyle incomplete</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    def GetTime(self):</span><br><span class="line">        url = &#x27;http://api.m.taobao.com/rest/api3.do?api=mtop.common.getTimestamp&#x27;</span><br><span class="line">    # WARNING: Decompyle incomplete</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    def CheckTimeTri(self):</span><br><span class="line">        if int(self.GetTime()) &gt;= self.deadline:</span><br><span class="line">            os.remove(&#x27;conf.bin&#x27;)</span><br><span class="line">            return 403</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">headers = &#123;</span><br><span class="line">    &#x27;user-agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.25 Safari/537.36 Core/1.70.3877.400 QQBrowser/10.8.4506.400&#x27; &#125;</span><br><span class="line"></span><br><span class="line">def SeTool():</span><br><span class="line">    global phone, phonediqu, lolName, lolDaqu, qqlm, weibo, qq, qq, phone, weibo</span><br><span class="line">    </span><br><span class="line">    def qqMsg():</span><br><span class="line">        global phone, phonediqu, lolName, lolDaqu, qqlm</span><br><span class="line">        print(&#x27;正在查询...&#x27;)</span><br><span class="line">        url = &#x27;https://www.hmily.vip/api/qb/?qq=&#x27; + str(qq)</span><br><span class="line">        html = requests.get(url, headers, **(&#x27;url&#x27;, &#x27;headers&#x27;))</span><br><span class="line">        if html.json()[&#x27;code&#x27;] == 1:</span><br><span class="line">            phone = html.json()[&#x27;phone&#x27;]</span><br><span class="line">            phonediqu = html.json()[&#x27;phonediqu&#x27;]</span><br><span class="line">            lolName = html.json()[&#x27;lolName&#x27;]</span><br><span class="line">            lolDaqu = html.json()[&#x27;lolDaqu&#x27;]</span><br><span class="line">            qqlm = html.json()[&#x27;qqlm&#x27;]</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    def phoneMsg():</span><br><span class="line">        global qq, phonediqu, weibo</span><br><span class="line">        print(&#x27;正在查询...&#x27;)</span><br><span class="line">        url3 = &#x27;https://hmily.vip/api/phone/?phone=&#x27; + str(phone)</span><br><span class="line">        html = requests.get(url3, headers, **(&#x27;url&#x27;, &#x27;headers&#x27;))</span><br><span class="line">        if html.json()[&#x27;code&#x27;] == 1:</span><br><span class="line">            qq = html.json()[&#x27;qq&#x27;]</span><br><span class="line">            phonediqu = html.json()[&#x27;phonediqu&#x27;]</span><br><span class="line">            weibo = html.json()[&#x27;weibo&#x27;]</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    def wbMsg():</span><br><span class="line">        global phone, phonediqu</span><br><span class="line">        print(&#x27;正在查询...&#x27;)</span><br><span class="line">        url3 = &#x27;https://www.hmily.vip/api/wb/?id=&#x27; + str(weibo)</span><br><span class="line">        html = requests.get(url3, headers, **(&#x27;url&#x27;, &#x27;headers&#x27;))</span><br><span class="line">        if html.json()[&#x27;code&#x27;] == 1:</span><br><span class="line">            phone = html.json()[&#x27;phone&#x27;]</span><br><span class="line">            phonediqu = html.json()[&#x27;phonediqu&#x27;]</span><br><span class="line"></span><br><span class="line">    layout = [</span><br><span class="line">        [</span><br><span class="line">            Sg.T(&#x27;查询结果：&#x27;)],</span><br><span class="line">        [</span><br><span class="line">            Sg.Multiline(&#x27;查询需要时间，提交后请耐心等待结果\n&#x27;, (70, 20), &#x27;-show-&#x27;, True, **(&#x27;size&#x27;, &#x27;key&#x27;, &#x27;autoscroll&#x27;))],</span><br><span class="line">        [</span><br><span class="line">            Sg.T(&#x27;说明：请选择与输入号码相对应的查询方式&#x27;, &#x27;-text-&#x27;, &#x27;white&#x27;, **(&#x27;key&#x27;, &#x27;text_color&#x27;))],</span><br><span class="line">        [</span><br><span class="line">            Sg.T(&#x27;请输入查询号码&#x27;),</span><br><span class="line">            Sg.In(&#x27;-content-&#x27;, **(&#x27;key&#x27;,))],</span><br><span class="line">        [</span><br><span class="line">            Sg.T(&#x27;请选择查询方式&#x27;)] + (lambda .0: [ Sg.Radio(i, 1, i, **(&#x27;group_id&#x27;, &#x27;key&#x27;)) for i in .0 ])((&#x27;qq号&#x27;, &#x27;手机号&#x27;, &#x27;微博UID&#x27;)),</span><br><span class="line">        [</span><br><span class="line">            Sg.B(&#x27;确认提交&#x27;),</span><br><span class="line">            Sg.B(&#x27;清空&#x27;)]]</span><br><span class="line">    window = Sg.Window(&#x27;SE工具箱&#x27;, layout)</span><br><span class="line">    flag = Sg.popup_ok_cancel(&#x27;免责声明：请勿把软件用在违法犯罪途径！\n造成的一切后果本作者概不负责\n如若同意请点击ok进入软件&#x27;, &#x27;提示&#x27;, (&#x27;黑体&#x27;, 13), **(&#x27;title&#x27;, &#x27;font&#x27;))</span><br><span class="line">    if flag == &#x27;Cancel&#x27;:</span><br><span class="line">        os._exit(0)</span><br><span class="line">    (event, values) = window.read(300)</span><br><span class="line">    if res2 == 3 or res1 == 3:</span><br><span class="line">        res = Reg.CheckTimeTri()</span><br><span class="line">        if res == 403:</span><br><span class="line">            Sg.popup(&#x27;软件使用时间已到期\n请重新购买登录码&#x27;, &#x27;提示&#x27;, (&#x27;黑体&#x27;, 13), **(&#x27;title&#x27;, &#x27;font&#x27;))</span><br><span class="line">        </span><br><span class="line">    if event == &#x27;确认提交&#x27; and values[&#x27;-content-&#x27;] != &#x27;&#x27;:</span><br><span class="line">        phone = &#x27;没有查询到&#x27;</span><br><span class="line">        phonediqu = &#x27;没有查询到&#x27;</span><br><span class="line">        lolName = &#x27;没有查询到&#x27;</span><br><span class="line">        lolDaqu = &#x27;没有查询到&#x27;</span><br><span class="line">        qqlm = &#x27;没有查询到&#x27;</span><br><span class="line">        weibo = &#x27;没有查询到&#x27;</span><br><span class="line">        qq = &#x27;没有查询到&#x27;</span><br><span class="line">        message = &#x27;&#x27;</span><br><span class="line">        msg = &#x27;&#x27;</span><br><span class="line">        t = time.strftime(&#x27;%Y/%m/%d %H:%M:%S&#x27;, time.localtime())</span><br><span class="line">        if values[&#x27;qq号&#x27;]:</span><br><span class="line">            qq = values[&#x27;-content-&#x27;]</span><br><span class="line">            message = window[&#x27;-show-&#x27;].get()</span><br><span class="line">            window[&#x27;-show-&#x27;].update(&#x27;&#x27;)</span><br><span class="line">            t1 = threading.Thread(qqMsg, **(&#x27;target&#x27;,))</span><br><span class="line">            t1.start()</span><br><span class="line">            t1.join()</span><br><span class="line">            if phone == &#x27;没有查询到&#x27;:</span><br><span class="line">                msg = f&#x27;&#x27;&#x27;\n时间: &#123;t&#125;\nQQ号码: &#123;qq&#125;\n未查到任何信息！     \n&#x27;&#x27;&#x27;</span><br><span class="line">            else:</span><br><span class="line">                msg = f&#x27;&#x27;&#x27;\n查询成功！\n时间: &#123;t&#125;\nQQ号码: &#123;qq&#125;\n手机号码: &#123;phone&#125;\n地区: &#123;phonediqu&#125;\nLOL账号: &#123;lolName&#125;\nLOL大区: &#123;lolDaqu&#125;\nQQ密码: &#123;qqlm&#125;\n    &#x27;&#x27;&#x27;</span><br><span class="line">        elif values[&#x27;手机号&#x27;]:</span><br><span class="line">            phone = values[&#x27;-content-&#x27;]</span><br><span class="line">            message = window[&#x27;-show-&#x27;].get()</span><br><span class="line">            window[&#x27;-show-&#x27;].update(&#x27;&#x27;)</span><br><span class="line">            t2 = threading.Thread(phoneMsg, **(&#x27;target&#x27;,))</span><br><span class="line">            t2.start()</span><br><span class="line">            t2.join()</span><br><span class="line">            if qq == &#x27;没有查询到&#x27;:</span><br><span class="line">                msg = f&#x27;&#x27;&#x27;\n时间: &#123;t&#125;\n手机号码: &#123;phone&#125;\n未查到任何信息！     \n&#x27;&#x27;&#x27;</span><br><span class="line">            else:</span><br><span class="line">                msg = f&#x27;&#x27;&#x27;\n查询成功！\n时间: &#123;t&#125;\n手机号码: &#123;phone&#125;\n地区: &#123;phonediqu&#125;\nQQ账号: &#123;qq&#125;\n微博ID: &#123;weibo&#125;\n&#x27;&#x27;&#x27;</span><br><span class="line">        elif values[&#x27;微博UID&#x27;]:</span><br><span class="line">            weibo = values[&#x27;-content-&#x27;]</span><br><span class="line">            message = window[&#x27;-show-&#x27;].get()</span><br><span class="line">            window[&#x27;-show-&#x27;].update(&#x27;&#x27;)</span><br><span class="line">            wbMsg()</span><br><span class="line">            if phone == &#x27;没有查询到&#x27;:</span><br><span class="line">                msg = f&#x27;&#x27;&#x27;\n时间: &#123;t&#125;\n微博ID: &#123;weibo&#125;\n未查到任何信息！     \n&#x27;&#x27;&#x27;</span><br><span class="line">            else:</span><br><span class="line">                msg = f&#x27;&#x27;&#x27;\n查询成功！\n时间: &#123;t&#125;\n微博ID: &#123;weibo&#125;\n手机号码: &#123;phone&#125;\n地区: &#123;phonediqu&#125;\n&#x27;&#x27;&#x27;</span><br><span class="line">        else:</span><br><span class="line">            window[&#x27;-show-&#x27;].update(&#x27;请选择一个查询方式，点击提交后请耐心等待查询结果&#x27;)</span><br><span class="line">        window[&#x27;-show-&#x27;].update(message + &#x27;\n&#x27; + msg)</span><br><span class="line">        window[&#x27;-content-&#x27;].update(&#x27;&#x27;)</span><br><span class="line">    if event == &#x27;清空&#x27;:</span><br><span class="line">        window[&#x27;-show-&#x27;].update(&#x27;&#x27;)</span><br><span class="line">    if event is None:</span><br><span class="line">        pass</span><br><span class="line">    </span><br><span class="line">    window.close()</span><br><span class="line"></span><br><span class="line">Reg = Register(TYPE)</span><br><span class="line">res1 = Reg.Regist_New()</span><br><span class="line">deadline = &#x27;&#x27;</span><br><span class="line">res2 = &#x27;&#x27;</span><br><span class="line">if res1 in (1, 2, 3):</span><br><span class="line">    SeTool()</span><br><span class="line">elif res1 == 4:</span><br><span class="line">    Sg.popup(&#x27;登陆码验证失败 请重新输入&#x27;, &#x27;提示&#x27;, (&#x27;黑体&#x27;, 13), **(&#x27;title&#x27;, &#x27;font&#x27;))</span><br><span class="line">if res1 == 5:</span><br><span class="line">    Sg.popup(&#x27;请勿非法获得验证文件！&#x27;, &#x27;提示&#x27;, (&#x27;黑体&#x27;, 13), **(&#x27;title&#x27;, &#x27;font&#x27;))</span><br><span class="line">entryCode = Reg.encryCode()</span><br><span class="line">layout = [</span><br><span class="line">    [</span><br><span class="line">        Sg.Text(&#x27;输入你的登录码后进入软件&#x27;, (&#x27;黑体&#x27;, 13), **(&#x27;font&#x27;,))],</span><br><span class="line">    [</span><br><span class="line">        Sg.Text(&#x27;机器码：&#x27;, True, (7, 1), (&#x27;黑体&#x27;, 12), **(&#x27;enable_events&#x27;, &#x27;size&#x27;, &#x27;font&#x27;)),</span><br><span class="line">        Sg.InputText(entryCode, &#x27;-serial-&#x27;, **(&#x27;key&#x27;,))],</span><br><span class="line">    [</span><br><span class="line">        Sg.Text(&#x27;登录码：&#x27;, (7, 1), (&#x27;黑体&#x27;, 12), **(&#x27;size&#x27;, &#x27;font&#x27;)),</span><br><span class="line">        Sg.InputText(&#x27;&#x27;, &#x27;-key-&#x27;, **(&#x27;key&#x27;,))],</span><br><span class="line">    [</span><br><span class="line">        Sg.Button(&#x27;确认&#x27;, (&#x27;微软雅黑&#x27;, 9), **(&#x27;font&#x27;,)),</span><br><span class="line">        Sg.Button(&#x27;退出&#x27;, (&#x27;微软雅黑&#x27;, 9), **(&#x27;font&#x27;,)),</span><br><span class="line">        Sg.Text(&#x27;点我购买登录码&#x27;, ((200, 10), (0, 0)), True, &#x27;#fff200&#x27;, **(&#x27;pad&#x27;, &#x27;enable_events&#x27;, &#x27;text_color&#x27;))]]</span><br><span class="line">window1 = Sg.Window(&#x27;SE工具箱&#x27;, layout)</span><br><span class="line">(event, values) = window1.read()</span><br><span class="line">if event == None:</span><br><span class="line">    pass</span><br><span class="line">elif event == &#x27;确认&#x27; and values[&#x27;-key-&#x27;] != &#x27;&#x27;:</span><br><span class="line">    res2 = Reg.checKey()</span><br><span class="line">    if res2 == 1:</span><br><span class="line">        Sg.popup(&#x27;登录成功！&#x27;, (&#x27;黑体&#x27;, 12), **(&#x27;font&#x27;,))</span><br><span class="line">        window1.close()</span><br><span class="line">        SeTool()</span><br><span class="line">    elif res2 == 3:</span><br><span class="line">        timeArry = time.localtime(Reg.deadline / 1000)</span><br><span class="line">        Sg.popup(f&#x27;&#x27;&#x27;登录成功！到期时间\n&#123;time.strftime(&#x27;%Y/%m/%d %H:%M:%S&#x27;, timeArry)&#125;&#x27;&#x27;&#x27;, (&#x27;黑体&#x27;, 13), **(&#x27;font&#x27;,))</span><br><span class="line">        window1.close()</span><br><span class="line">        SeTool()</span><br><span class="line">    elif res2 == 5:</span><br><span class="line">        Sg.popup(&#x27;登陆码验证失败 请重新输入&#x27;, &#x27;提示&#x27;, (&#x27;黑体&#x27;, 12), **(&#x27;title&#x27;, &#x27;font&#x27;))</span><br><span class="line">if event == &#x27;退出&#x27;:</span><br><span class="line">    pass</span><br><span class="line">elif event == &#x27;点我购买登录码&#x27;:</span><br><span class="line">    Sg.popup(&#x27;购买登录码20R\n联系QQ：2900548175\n微信号：tangmin903&#x27;, &#x27;提示&#x27;, (&#x27;黑体&#x27;, 12), **(&#x27;title&#x27;, &#x27;font&#x27;))</span><br><span class="line">    continue</span><br><span class="line">    window1.close()</span><br><span class="line">    return None</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="结果"><a href="#结果" class="headerlink" title="结果"></a>结果</h2><p>然后翻阅源码发现如下几个接口：</p><ul><li><a href="https://www.hmily.vip/api/qb/?qq=">https://www.hmily.vip/api/qb/?qq=</a></li><li><a href="https://hmily.vip/api/phone/?phone=">https://hmily.vip/api/phone/?phone=</a></li><li><a href="https://www.hmily.vip/api/wb/?id=">https://www.hmily.vip/api/wb/?id=</a><br>这分别是QQ，手机号及微博ID的查询接口</li></ul><h1 id="THE-END"><a href="#THE-END" class="headerlink" title="THE END"></a>THE END</h1>]]></content>
      
      
      <categories>
          
          <category> Python </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Python </tag>
            
            <tag> 逆向 </tag>
            
            <tag> 黑客 </tag>
            
            <tag> 社工 </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
